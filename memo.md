
# 概要

メモアプリ

ユーザ登録したユーザは、メモを登録できる
登録されたメモは、公開、非公開を選べる

# ページごとの仕様

ページパス 名前 <ベンチでのアクセス件数>

/ トップページ  <717件>
* 公開中のメモの件数を表示
* 非登録ユーザも閲覧できる
* 最近公開された[メモ抜粋]上位100件を表示( created_at DESC,id DESC ??)
** 1ページ目固定(ページングなし)

- [メモ抜粋]
** メモの１行目
** メモの登録時刻
** そのメモ登録ユーザの名前

/recent:page 最近登録されたメモページ <295件>
* トップページとほぼ似ている
* 非登録ユーザも閲覧できる（非登録ユーザは直リンでw)
* [メモ抜粋]を表示してる
* ページング用のリンクは表示されていない（直リンで、過去分をたどる)

/signin ユーザ名とパスワードを入力するページ<119件>
*

/signout <119件>
* sessionからuser_idを抜くことで、sessionを除いている
* session_id(sid)とtokenの照合も行っている


/signup ユーザ登録 <0件!!>
* htmlに登録用の導線がない
* ユーザ名(20字以内)とパスワード(20字以内)を受け取って、登録している
* 既に同じ名前のユーザがいたら、die
* ユーザの登録は、
** user_idは登録順になるように並べられる
** saltも発行している


/signin 既に登録したユーザが、singinしているっていうsessionを作成 <119件>
* ユーザ名とパスワードを受け取って、照合
* 一意に登録されたユーザ名からユーザを検索して、パスワードと照合
* 最後にアクセスした時刻をUPDATE
* 登録ユーザだったら、/mypage へ遷移、駄目なら、再度入力へ

/mypage <119件>
* メモの登録のform
** 公開非公開を選択して、sidで照合
* 最近登録したメモの抜粋が全て見れる

/memo <119件>
* メモの登録処理
* メモはmarkdown形式で登録して、htmlに変換できる！

/memo/:id <741件>
* メモ詳細
* 非公開のメモの場合、メモを書いた人でなければ、閲覧できない
* 閲覧しているメモの前後のpagerがある

/js js ディレクトリ <2568件>

/css css ディレクトリ <2568件>

# 共通 base.tx

* stylesheetタグに/にアクセスしているのがあったりした
* userがstashされていたら、マイページへのリンクを表示/ユーザ名を表示


